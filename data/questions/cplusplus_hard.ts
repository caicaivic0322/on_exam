import { Question } from '@/types';

export const cplusplusHardQuestions: Record<string, Question[]> = {
    '1': [
        // Chapter 1: 初识 C++ (Hard)
        {
            id: 'ch1-hard-mcq-1',
            type: 'MCQ',
            text: 'C++ 标准中，未初始化的局部变量的值是？',
            options: ['0', 'undefined (未定义)', 'null', '随机值'],
            correctAnswer: 'undefined (未定义)',
        },
        {
            id: 'ch1-hard-mcq-2',
            type: 'MCQ',
            text: 'main 函数的返回值如果省略，默认返回什么？',
            options: ['-1', '0', '1', 'undefined'],
            correctAnswer: '0',
        },
        {
            id: 'ch1-hard-mcq-3',
            type: 'MCQ',
            text: '下列哪个不是 C++ 的关键字？',
            options: ['virtual', 'override', 'volatile', 'mutable'],
            correctAnswer: 'override',
        },
        {
            id: 'ch1-hard-mcq-4',
            type: 'MCQ',
            text: 'C++ 编译过程的正确顺序是？',
            options: ['编译 -> 链接 -> 预处理', '预处理 -> 编译 -> 链接', '链接 -> 编译 -> 预处理', '预处理 -> 链接 -> 编译'],
            correctAnswer: '预处理 -> 编译 -> 链接',
        },
        {
            id: 'ch1-hard-mcq-5',
            type: 'MCQ',
            text: '#include <iostream> 中的 iostream 是？',
            options: ['关键字', '函数', '头文件', '类'],
            correctAnswer: '头文件',
        },
        {
            id: 'ch1-hard-tf-1',
            type: 'TF',
            text: 'C++ 是完全向后兼容 C 语言的。',
            correctAnswer: false,
        },
        {
            id: 'ch1-hard-tf-2',
            type: 'TF',
            text: 'main 函数必须带参数 (int argc, char* argv[])。',
            correctAnswer: false,
        },
        {
            id: 'ch1-hard-tf-3',
            type: 'TF',
            text: '注释 // 可以跨越多行。',
            correctAnswer: false,
        },
        {
            id: 'ch1-hard-code-1',
            type: 'CODE',
            text: '不使用 namespace std，输出 Hello',
            codeSnippet: '#include <iostream>\nint main() {\n    // Output Hello using fully qualified name\n    return 0;\n}',
            correctAnswer: '#include <iostream>\nint main() {\n    std::cout << "Hello";\n    return 0;\n}',
        },
        {
            id: 'ch1-hard-code-2',
            type: 'CODE',
            text: '返回非零值表示错误',
            codeSnippet: '#include <iostream>\nusing namespace std;\nint main() {\n    // Return error code 1\n    return 0;\n}',
            correctAnswer: '#include <iostream>\nusing namespace std;\nint main() {\n    return 1;\n}',
        },
    ],
    '2': [
        // Chapter 2: 数据类型 (Hard)
        {
            id: 'ch2-hard-mcq-1',
            type: 'MCQ',
            text: '32位系统中，sizeof(long) 通常是？',
            options: ['2', '4', '8', '16'],
            correctAnswer: '4',
        },
        {
            id: 'ch2-hard-mcq-2',
            type: 'MCQ',
            text: 'float f = 3.14; 会发生什么？',
            options: ['编译错误', '警告：double 截断为 float', '正常运行', '运行时错误'],
            correctAnswer: '警告：double 截断为 float',
        },
        {
            id: 'ch2-hard-mcq-3',
            type: 'MCQ',
            text: 'bool b = -1; b 的值是？',
            options: ['true', 'false', '-1', 'undefined'],
            correctAnswer: 'true',
        },
        {
            id: 'ch2-hard-mcq-4',
            type: 'MCQ',
            text: 'char c = 256; (假设 char 为 8 位有符号) c 的值是？',
            options: ['256', '0', '1', 'undefined'],
            correctAnswer: '0',
        },
        {
            id: 'ch2-hard-mcq-5',
            type: 'MCQ',
            text: 'auto 关键字是在哪个 C++ 标准引入的？',
            options: ['C++98', 'C++03', 'C++11', 'C++14'],
            correctAnswer: 'C++11',
        },
        {
            id: 'ch2-hard-tf-1',
            type: 'TF',
            text: 'unsigned int 永远不会是负数。',
            correctAnswer: true,
        },
        {
            id: 'ch2-hard-tf-2',
            type: 'TF',
            text: 'void 类型可以定义变量。',
            correctAnswer: false,
        },
        {
            id: 'ch2-hard-tf-3',
            type: 'TF',
            text: 'const int* p 和 int* const p 是一样的。',
            correctAnswer: false,
        },
        {
            id: 'ch2-hard-code-1',
            type: 'CODE',
            text: '使用 auto 推导类型',
            codeSnippet: '#include <iostream>\nusing namespace std;\nint main() {\n    int x = 10;\n    // Declare y using auto and initialize with x\n    return 0;\n}',
            correctAnswer: '#include <iostream>\nusing namespace std;\nint main() {\n    int x = 10;\n    auto y = x;\n    return 0;\n}',
        },
        {
            id: 'ch2-hard-code-2',
            type: 'CODE',
            text: '强制类型转换 double 到 int',
            codeSnippet: '#include <iostream>\nusing namespace std;\nint main() {\n    double d = 3.9;\n    // Convert d to int i using static_cast\n    return 0;\n}',
            correctAnswer: '#include <iostream>\nusing namespace std;\nint main() {\n    double d = 3.9;\n    int i = static_cast<int>(d);\n    return 0;\n}',
        },
    ],
    '3': [
        // Chapter 3: 程序结构 (Hard)
        {
            id: 'ch3-hard-mcq-1',
            type: 'MCQ',
            text: '全局变量的生命周期是？',
            options: ['函数内', '代码块内', '整个程序运行期间', '文件内'],
            correctAnswer: '整个程序运行期间',
        },
        {
            id: 'ch3-hard-mcq-2',
            type: 'MCQ',
            text: 'static 局部变量的初始化发生在？',
            options: ['编译时', '每次进入函数时', '第一次进入函数时', '程序启动时'],
            correctAnswer: '第一次进入函数时',
        },
        {
            id: 'ch3-hard-mcq-3',
            type: 'MCQ',
            text: 'extern 关键字用于？',
            options: ['定义变量', '声明变量', '初始化变量', '销毁变量'],
            correctAnswer: '声明变量',
        },
        {
            id: 'ch3-hard-mcq-4',
            type: 'MCQ',
            text: '命名空间的作用是？',
            options: ['提高性能', '避免命名冲突', '加密代码', '管理内存'],
            correctAnswer: '避免命名冲突',
        },
        {
            id: 'ch3-hard-mcq-5',
            type: 'MCQ',
            text: 'main 函数之前会执行什么？',
            options: ['什么都不执行', '全局对象的构造函数', '局部变量初始化', '析构函数'],
            correctAnswer: '全局对象的构造函数',
        },
        {
            id: 'ch3-hard-tf-1',
            type: 'TF',
            text: '局部变量可以和全局变量同名。',
            correctAnswer: true,
        },
        {
            id: 'ch3-hard-tf-2',
            type: 'TF',
            text: '块作用域中的变量在块结束后立即销毁。',
            correctAnswer: true,
        },
        {
            id: 'ch3-hard-tf-3',
            type: 'TF',
            text: '#define 定义的宏受命名空间限制。',
            correctAnswer: false,
        },
        {
            id: 'ch3-hard-code-1',
            type: 'CODE',
            text: '定义静态局部变量计数器',
            codeSnippet: '#include <iostream>\nusing namespace std;\nvoid count() {\n    // Define static int c initialized to 0\n    // Increment and print c\n}\nint main() {\n    count();\n    return 0;\n}',
            correctAnswer: '#include <iostream>\nusing namespace std;\nvoid count() {\n    static int c = 0;\n    c++;\n    cout << c;\n}\nint main() {\n    count();\n    return 0;\n}',
        },
        {
            id: 'ch3-hard-code-2',
            type: 'CODE',
            text: '使用作用域解析运算符访问全局变量',
            codeSnippet: '#include <iostream>\nusing namespace std;\nint x = 10;\nint main() {\n    int x = 20;\n    // Print global x\n    return 0;\n}',
            correctAnswer: '#include <iostream>\nusing namespace std;\nint x = 10;\nint main() {\n    int x = 20;\n    cout << ::x;\n    return 0;\n}',
        },
    ],
    '4': [
        // Chapter 4: 条件分支 (Hard)
        {
            id: 'ch4-hard-mcq-1',
            type: 'MCQ',
            text: 'if (x = 5) 的结果是？',
            options: ['true', 'false', '编译错误', '运行时错误'],
            correctAnswer: 'true',
        },
        {
            id: 'ch4-hard-mcq-2',
            type: 'MCQ',
            text: '三元运算符 ?: 的结合性是？',
            options: ['从左到右', '从右到左', '无结合性', '随机'],
            correctAnswer: '从右到左',
        },
        {
            id: 'ch4-hard-mcq-3',
            type: 'MCQ',
            text: 'switch 语句中 case 标签必须是？',
            options: ['变量', '常量表达式', '浮点数', '字符串'],
            correctAnswer: '常量表达式',
        },
        {
            id: 'ch4-hard-mcq-4',
            type: 'MCQ',
            text: 'if (a > b > c) 等价于？',
            options: ['(a > b) && (b > c)', '(a > b) > c', 'a > (b > c)', '编译错误'],
            correctAnswer: '(a > b) > c',
        },
        {
            id: 'ch4-hard-mcq-5',
            type: 'MCQ',
            text: '短路求值是指？',
            options: ['逻辑与/或中提前终止计算', '电路短路', '快速计算', '忽略错误'],
            correctAnswer: '逻辑与/或中提前终止计算',
        },
        {
            id: 'ch4-hard-tf-1',
            type: 'TF',
            text: 'switch 可以用于 double 类型。',
            correctAnswer: false,
        },
        {
            id: 'ch4-hard-tf-2',
            type: 'TF',
            text: 'else 总是与最近的未匹配 if 配对。',
            correctAnswer: true,
        },
        {
            id: 'ch4-hard-tf-3',
            type: 'TF',
            text: 'if (0.1 + 0.2 == 0.3) 通常为 true。',
            correctAnswer: false,
        },
        {
            id: 'ch4-hard-code-1',
            type: 'CODE',
            text: '使用位运算判断奇偶',
            codeSnippet: '#include <iostream>\nusing namespace std;\nint main() {\n    int n = 5;\n    if (/* check odd using bitwise */) {\n        cout << "Odd";\n    }\n    return 0;\n}',
            correctAnswer: '#include <iostream>\nusing namespace std;\nint main() {\n    int n = 5;\n    if (n & 1) {\n        cout << "Odd";\n    }\n    return 0;\n}',
        },
        {
            id: 'ch4-hard-code-2',
            type: 'CODE',
            text: '防止除以零',
            codeSnippet: '#include <iostream>\nusing namespace std;\nint main() {\n    int a = 10, b = 0;\n    if (/* check b */) {\n        cout << a / b;\n    }\n    return 0;\n}',
            correctAnswer: '#include <iostream>\nusing namespace std;\nint main() {\n    int a = 10, b = 0;\n    if (b != 0) {\n        cout << a / b;\n    }\n    return 0;\n}',
        },
    ],
    '5': [
        // Chapter 5: switch (Hard)
        {
            id: 'ch5-hard-mcq-1',
            type: 'MCQ',
            text: 'switch 内部定义的变量如果包含初始化，必须？',
            options: ['放在 case 之前', '放在 default 之后', '用花括号包围', '不能初始化'],
            correctAnswer: '用花括号包围',
        },
        {
            id: 'ch5-hard-mcq-2',
            type: 'MCQ',
            text: 'case 穿透（Fallthrough）是指？',
            options: ['case 语句错误', '没有 break 继续执行下一 case', '跳过 case', 'switch 嵌套'],
            correctAnswer: '没有 break 继续执行下一 case',
        },
        {
            id: 'ch5-hard-mcq-3',
            type: 'MCQ',
            text: 'switch 表达式的类型不能是？',
            options: ['int', 'char', 'enum', 'string'],
            correctAnswer: 'string',
        },
        {
            id: 'ch5-hard-mcq-4',
            type: 'MCQ',
            text: 'default 标签的位置？',
            options: ['必须在最后', '必须在最前', '可以在任何位置', '不能存在'],
            correctAnswer: '可以在任何位置',
        },
        {
            id: 'ch5-hard-mcq-5',
            type: 'MCQ',
            text: '[[fallthrough]] 属性的作用是？',
            options: ['强制 break', '标记有意为之的穿透', '禁止穿透', '优化代码'],
            correctAnswer: '标记有意为之的穿透',
        },
        {
            id: 'ch5-hard-tf-1',
            type: 'TF',
            text: 'switch 比 if-else 链通常效率更高（生成跳转表）。',
            correctAnswer: true,
        },
        {
            id: 'ch5-hard-tf-2',
            type: 'TF',
            text: 'case 后面可以跟范围（如 1...10）(标准 C++)。',
            correctAnswer: false,
        },
        {
            id: 'ch5-hard-tf-3',
            type: 'TF',
            text: 'switch 可以嵌套。',
            correctAnswer: true,
        },
        {
            id: 'ch5-hard-code-1',
            type: 'CODE',
            text: '利用穿透实现多 case 共享逻辑',
            codeSnippet: '#include <iostream>\nusing namespace std;\nint main() {\n    char grade = \'B\';\n    switch(grade) {\n        case \'A\':\n        case \'B\':\n        case \'C\':\n            cout << "Pass";\n            break;\n        // ...\n    }\n    return 0;\n}',
            correctAnswer: '#include <iostream>\nusing namespace std;\nint main() {\n    char grade = \'B\';\n    switch(grade) {\n        case \'A\':\n        case \'B\':\n        case \'C\':\n            cout << "Pass";\n            break;\n    }\n    return 0;\n}',
        },
        {
            id: 'ch5-hard-code-2',
            type: 'CODE',
            text: '在 switch 中定义变量',
            codeSnippet: '#include <iostream>\nusing namespace std;\nint main() {\n    switch(1) {\n        case 1: \n            // Define int x = 10 inside scope\n            break;\n    }\n    return 0;\n}',
            correctAnswer: '#include <iostream>\nusing namespace std;\nint main() {\n    switch(1) {\n        case 1: {\n            int x = 10;\n            break;\n        }\n    }\n    return 0;\n}',
        },
    ],
    '6': [
        // Chapter 6: while (Hard)
        {
            id: 'ch6-hard-mcq-1',
            type: 'MCQ',
            text: 'while(true) 循环如何终止？',
            options: ['自动终止', '使用 break 或 return', '无法终止', '等待输入'],
            correctAnswer: '使用 break 或 return',
        },
        {
            id: 'ch6-hard-mcq-2',
            type: 'MCQ',
            text: 'do-while 循环至少执行几次？',
            options: ['0', '1', '2', '无限'],
            correctAnswer: '1',
        },
        {
            id: 'ch6-hard-mcq-3',
            type: 'MCQ',
            text: 'while(cin >> x) 的含义是？',
            options: ['读取 x 直到输入结束或错误', '读取 x 一次', '永远为真', '语法错误'],
            correctAnswer: '读取 x 直到输入结束或错误',
        },
        {
            id: 'ch6-hard-mcq-4',
            type: 'MCQ',
            text: 'continue 语句在 while 循环中会跳转到？',
            options: ['循环结束处', '循环体开始处', '条件判断处', 'break 处'],
            correctAnswer: '条件判断处',
        },
        {
            id: 'ch6-hard-mcq-5',
            type: 'MCQ',
            text: 'while(i-- > 0) 循环执行次数（初始 i=3）？',
            options: ['2', '3', '4', '无限'],
            correctAnswer: '3',
        },
        {
            id: 'ch6-hard-tf-1',
            type: 'TF',
            text: 'while(0) 循环体一次也不会执行。',
            correctAnswer: true,
        },
        {
            id: 'ch6-hard-tf-2',
            type: 'TF',
            text: 'do-while 循环条件后面必须加分号。',
            correctAnswer: true,
        },
        {
            id: 'ch6-hard-tf-3',
            type: 'TF',
            text: 'while 循环不能嵌套。',
            correctAnswer: false,
        },
        {
            id: 'ch6-hard-code-1',
            type: 'CODE',
            text: '输入验证循环',
            codeSnippet: '#include <iostream>\nusing namespace std;\nint main() {\n    int n;\n    // Loop until n is positive\n    cin >> n;\n    return 0;\n}',
            correctAnswer: '#include <iostream>\nusing namespace std;\nint main() {\n    int n;\n    do {\n        cin >> n;\n    } while (n <= 0);\n    return 0;\n}',
        },
        {
            id: 'ch6-hard-code-2',
            type: 'CODE',
            text: '计算整数位数',
            codeSnippet: '#include <iostream>\nusing namespace std;\nint main() {\n    int n = 12345, digits = 0;\n    while (/* condition */) {\n        n /= 10;\n        digits++;\n    }\n    return 0;\n}',
            correctAnswer: '#include <iostream>\nusing namespace std;\nint main() {\n    int n = 12345, digits = 0;\n    while (n > 0) {\n        n /= 10;\n        digits++;\n    }\n    return 0;\n}',
        },
    ],
    '7': [
        // Chapter 7: for (Hard)
        {
            id: 'ch7-hard-mcq-1',
            type: 'MCQ',
            text: 'for(;;) 代表什么？',
            options: ['语法错误', '死循环', '执行一次', '空循环'],
            correctAnswer: '死循环',
        },
        {
            id: 'ch7-hard-mcq-2',
            type: 'MCQ',
            text: '范围 for 循环 (Range-based for) 是哪个标准引入的？',
            options: ['C++98', 'C++03', 'C++11', 'C++17'],
            correctAnswer: 'C++11',
        },
        {
            id: 'ch7-hard-mcq-3',
            type: 'MCQ',
            text: 'for (int i=0, j=0; i<5; i++, j++) 中逗号的作用是？',
            options: ['分隔符', '逗号运算符', '声明符', '错误'],
            correctAnswer: '逗号运算符',
        },
        {
            id: 'ch7-hard-mcq-4',
            type: 'MCQ',
            text: '在 for 循环初始化部分定义的变量作用域是？',
            options: ['整个 main 函数', '循环体内', '文件内', '未定义'],
            correctAnswer: '循环体内',
        },
        {
            id: 'ch7-hard-mcq-5',
            type: 'MCQ',
            text: 'for (auto &x : arr) 中的 & 作用是？',
            options: ['取地址', '引用（允许修改原数组）', '按位与', '逻辑与'],
            correctAnswer: '引用（允许修改原数组）',
        },
        {
            id: 'ch7-hard-tf-1',
            type: 'TF',
            text: 'for 循环的三个部分都可以省略。',
            correctAnswer: true,
        },
        {
            id: 'ch7-hard-tf-2',
            type: 'TF',
            text: '范围 for 循环可以用于动态分配的数组（指针）。',
            correctAnswer: false,
        },
        {
            id: 'ch7-hard-tf-3',
            type: 'TF',
            text: '修改循环变量可能导致死循环。',
            correctAnswer: true,
        },
        {
            id: 'ch7-hard-code-1',
            type: 'CODE',
            text: '使用范围 for 循环修改数组元素',
            codeSnippet: '#include <iostream>\nusing namespace std;\nint main() {\n    int arr[] = {1, 2, 3};\n    // Multiply each element by 2 using range-based for\n    return 0;\n}',
            correctAnswer: '#include <iostream>\nusing namespace std;\nint main() {\n    int arr[] = {1, 2, 3};\n    for (auto &x : arr) {\n        x *= 2;\n    }\n    return 0;\n}',
        },
        {
            id: 'ch7-hard-code-2',
            type: 'CODE',
            text: '多变量控制循环',
            codeSnippet: '#include <iostream>\nusing namespace std;\nint main() {\n    for (int i = 0, j = 10; i < j; /* update */) {\n        cout << i << " " << j << endl;\n    }\n    return 0;\n}',
            correctAnswer: '#include <iostream>\nusing namespace std;\nint main() {\n    for (int i = 0, j = 10; i < j; i++, j--) {\n        cout << i << " " << j << endl;\n    }\n    return 0;\n}',
        },
    ],
    '8': [
        // Chapter 8: 初识数组 (Hard)
        {
            id: 'ch8-hard-mcq-1',
            type: 'MCQ',
            text: 'int arr[5] = {1}; 其余元素的值是？',
            options: ['undefined', '1', '0', '随机'],
            correctAnswer: '0',
        },
        {
            id: 'ch8-hard-mcq-2',
            type: 'MCQ',
            text: '访问 arr[5] (定义为 int arr[5]) 会发生？',
            options: ['编译错误', '返回 0', '数组越界（Undefined Behavior）', '自动扩容'],
            correctAnswer: '数组越界（Undefined Behavior）',
        },
        {
            id: 'ch8-hard-mcq-3',
            type: 'MCQ',
            text: '数组名作为函数参数传递时退化为？',
            options: ['数组副本', '指向首元素的指针', '引用', '对象'],
            correctAnswer: '指向首元素的指针',
        },
        {
            id: 'ch8-hard-mcq-4',
            type: 'MCQ',
            text: 'C++11 中引入的定长数组容器是？',
            options: ['std::vector', 'std::array', 'std::list', 'std::map'],
            correctAnswer: 'std::array',
        },
        {
            id: 'ch8-hard-mcq-5',
            type: 'MCQ',
            text: 'int arr[] = {}; (空初始化列表) 在 C++ 中是？',
            options: ['合法的', '非法的（标准 C++ 不允许零大小数组）', '创建一个元素的数组', '创建一个指针'],
            correctAnswer: '非法的（标准 C++ 不允许零大小数组）',
        },
        {
            id: 'ch8-hard-tf-1',
            type: 'TF',
            text: '数组的大小必须在编译时确定（非 VLA）。',
            correctAnswer: true,
        },
        {
            id: 'ch8-hard-tf-2',
            type: 'TF',
            text: 'arr 和 &arr 的值相同，但类型不同。',
            correctAnswer: true,
        },
        {
            id: 'ch8-hard-tf-3',
            type: 'TF',
            text: '可以使用 arr1 = arr2 复制数组。',
            correctAnswer: false,
        },
        {
            id: 'ch8-hard-code-1',
            type: 'CODE',
            text: '使用 std::array',
            codeSnippet: '#include <iostream>\n#include <array>\nusing namespace std;\nint main() {\n    std::array<int, 3> arr = {1, 2, 3};\n    // Print size of arr\n    return 0;\n}',
            correctAnswer: '#include <iostream>\n#include <array>\nusing namespace std;\nint main() {\n    std::array<int, 3> arr = {1, 2, 3};\n    cout << arr.size();\n    return 0;\n}',
        },
        {
            id: 'ch8-hard-code-2',
            type: 'CODE',
            text: '指针算术访问数组',
            codeSnippet: '#include <iostream>\nusing namespace std;\nint main() {\n    int arr[] = {10, 20, 30};\n    // Access second element using pointer arithmetic\n    return 0;\n}',
            correctAnswer: '#include <iostream>\nusing namespace std;\nint main() {\n    int arr[] = {10, 20, 30};\n    cout << *(arr + 1);\n    return 0;\n}',
        },
    ],
    '9': [
        // Chapter 9: 循环嵌套 (Hard)
        {
            id: 'ch9-hard-mcq-1',
            type: 'MCQ',
            text: '嵌套循环的时间复杂度通常是？',
            options: ['O(n)', 'O(n^2)', 'O(log n)', 'O(1)'],
            correctAnswer: 'O(n^2)',
        },
        {
            id: 'ch9-hard-mcq-2',
            type: 'MCQ',
            text: 'break 语句在嵌套循环中跳出？',
            options: ['所有循环', '最内层循环', '最外层循环', '函数'],
            correctAnswer: '最内层循环',
        },
        {
            id: 'ch9-hard-mcq-3',
            type: 'MCQ',
            text: '如何从多层嵌套循环中直接跳出？',
            options: ['break', 'continue', 'goto', 'return (如果结束函数)'],
            correctAnswer: 'goto',
        },
        {
            id: 'ch9-hard-mcq-4',
            type: 'MCQ',
            text: '打印九九乘法表需要几层循环？',
            options: ['1', '2', '3', '4'],
            correctAnswer: '2',
        },
        {
            id: 'ch9-hard-mcq-5',
            type: 'MCQ',
            text: '优化嵌套循环的关键是？',
            options: ['减少内层循环次数', '增加外层循环次数', '使用更多变量', '使用递归'],
            correctAnswer: '减少内层循环次数',
        },
        {
            id: 'ch9-hard-tf-1',
            type: 'TF',
            text: '外层循环变量可以在内层循环中使用。',
            correctAnswer: true,
        },
        {
            id: 'ch9-hard-tf-2',
            type: 'TF',
            text: '内层循环变量名不能与外层相同（在同一作用域内）。',
            correctAnswer: true,
        },
        {
            id: 'ch9-hard-tf-3',
            type: 'TF',
            text: '嵌套深度没有限制（受栈大小限制）。',
            correctAnswer: true,
        },
        {
            id: 'ch9-hard-code-1',
            type: 'CODE',
            text: '打印直角三角形',
            codeSnippet: '#include <iostream>\nusing namespace std;\nint main() {\n    for (int i = 1; i <= 5; i++) {\n        // Print i stars\n        cout << endl;\n    }\n    return 0;\n}',
            correctAnswer: '#include <iostream>\nusing namespace std;\nint main() {\n    for (int i = 1; i <= 5; i++) {\n        for (int j = 0; j < i; j++) cout << "*";\n        cout << endl;\n    }\n    return 0;\n}',
        },
        {
            id: 'ch9-hard-code-2',
            type: 'CODE',
            text: '使用 goto 跳出嵌套循环',
            codeSnippet: '#include <iostream>\nusing namespace std;\nint main() {\n    bool error = true;\n    for(;;) {\n        for(;;) {\n            if (error) // Jump to end\n        }\n    }\n    end:\n    return 0;\n}',
            correctAnswer: '#include <iostream>\nusing namespace std;\nint main() {\n    bool error = true;\n    for(;;) {\n        for(;;) {\n            if (error) goto end;\n        }\n    }\n    end:;\n    return 0;\n}',
        },
    ],
    '10': [
        // Chapter 10: 一维数组 (Hard)
        {
            id: 'ch10-hard-mcq-1',
            type: 'MCQ',
            text: '数组作为参数 int fun(int arr[]) 和 int fun(int *arr)？',
            options: ['完全等价', '不同', '取决于编译器', '前者是引用'],
            correctAnswer: '完全等价',
        },
        {
            id: 'ch10-hard-mcq-2',
            type: 'MCQ',
            text: 'std::sort 对数组排序的用法？',
            options: ['sort(arr)', 'sort(arr, size)', 'sort(arr, arr + size)', 'arr.sort()'],
            correctAnswer: 'sort(arr, arr + size)',
        },
        {
            id: 'ch10-hard-mcq-3',
            type: 'MCQ',
            text: '二分查找的前提是数组必须？',
            options: ['有序', '无序', '包含正数', '长度为偶数'],
            correctAnswer: '有序',
        },
        {
            id: 'ch10-hard-mcq-4',
            type: 'MCQ',
            text: '数组越界访问可能导致？',
            options: ['程序崩溃', '数据篡改', '安全漏洞', '以上都是'],
            correctAnswer: '以上都是',
        },
        {
            id: 'ch10-hard-mcq-5',
            type: 'MCQ',
            text: 'memset 初始化 int 数组为 1 是否有效？',
            options: ['有效', '无效（变为 0x01010101）', '编译错误', '随机'],
            correctAnswer: '无效（变为 0x01010101）',
        },
        {
            id: 'ch10-hard-tf-1',
            type: 'TF',
            text: '数组名可以进行自增运算 (arr++)。',
            correctAnswer: false,
        },
        {
            id: 'ch10-hard-tf-2',
            type: 'TF',
            text: '变长数组 (VLA) 是 C++ 标准的一部分。',
            correctAnswer: false,
        },
        {
            id: 'ch10-hard-tf-3',
            type: 'TF',
            text: '数组可以存储引用。',
            correctAnswer: false,
        },
        {
            id: 'ch10-hard-code-1',
            type: 'CODE',
            text: '实现二分查找',
            codeSnippet: '#include <iostream>\nusing namespace std;\nint binarySearch(int arr[], int l, int r, int x) {\n    // Implement binary search\n}\nint main() {\n    int arr[] = {1, 2, 3, 4, 5};\n    cout << binarySearch(arr, 0, 4, 3);\n    return 0;\n}',
            correctAnswer: '#include <iostream>\nusing namespace std;\nint binarySearch(int arr[], int l, int r, int x) {\n    while (l <= r) {\n        int m = l + (r - l) / 2;\n        if (arr[m] == x) return m;\n        if (arr[m] < x) l = m + 1;\n        else r = m - 1;\n    }\n    return -1;\n}\nint main() {\n    int arr[] = {1, 2, 3, 4, 5};\n    cout << binarySearch(arr, 0, 4, 3);\n    return 0;\n}',
        },
        {
            id: 'ch10-hard-code-2',
            type: 'CODE',
            text: '删除数组中的重复元素（有序数组）',
            codeSnippet: '#include <iostream>\nusing namespace std;\nint removeDuplicates(int arr[], int n) {\n    // Return new length\n}\nint main() {\n    int arr[] = {1, 1, 2};\n    cout << removeDuplicates(arr, 3);\n    return 0;\n}',
            correctAnswer: '#include <iostream>\nusing namespace std;\nint removeDuplicates(int arr[], int n) {\n    if (n==0 || n==1) return n;\n    int j = 0;\n    for (int i=0; i < n-1; i++)\n        if (arr[i] != arr[i+1])\n            arr[j++] = arr[i];\n    arr[j++] = arr[n-1];\n    return j;\n}\nint main() {\n    int arr[] = {1, 1, 2};\n    cout << removeDuplicates(arr, 3);\n    return 0;\n}',
        },
    ],
    '11': [
        // Chapter 11: 字符串 (Hard)
        {
            id: 'ch11-hard-mcq-1',
            type: 'MCQ',
            text: 'string::npos 的值通常是？',
            options: ['0', '-1 (size_t 最大值)', '1', 'null'],
            correctAnswer: '-1 (size_t 最大值)',
        },
        {
            id: 'ch11-hard-mcq-2',
            type: 'MCQ',
            text: 'c_str() 返回的指针指向？',
            options: ['可修改的字符数组', 'const char*', 'string 对象', '副本'],
            correctAnswer: 'const char*',
        },
        {
            id: 'ch11-hard-mcq-3',
            type: 'MCQ',
            text: '字符串字面量 "abc" 的类型是？',
            options: ['string', 'char*', 'const char[4]', 'char[3]'],
            correctAnswer: 'const char[4]',
        },
        {
            id: 'ch11-hard-mcq-4',
            type: 'MCQ',
            text: 'R"(...)" 表示？',
            options: ['原始字符串字面量 (Raw String)', '递归字符串', '只读字符串', '引用字符串'],
            correctAnswer: '原始字符串字面量 (Raw String)',
        },
        {
            id: 'ch11-hard-mcq-5',
            type: 'MCQ',
            text: 'string s; s[s.size()] 的行为（C++11起）？',
            options: ['Undefined', '返回 \\0', '抛出异常', '编译错误'],
            correctAnswer: '返回 \\0',
        },
        {
            id: 'ch11-hard-tf-1',
            type: 'TF',
            text: 'string 可以包含 \\0 字符。',
            correctAnswer: true,
        },
        {
            id: 'ch11-hard-tf-2',
            type: 'TF',
            text: 'string 是线程安全的。',
            correctAnswer: false,
        },
        {
            id: 'ch11-hard-tf-3',
            type: 'TF',
            text: 'sizeof(string) 等于字符串长度。',
            correctAnswer: false,
        },
        {
            id: 'ch11-hard-code-1',
            type: 'CODE',
            text: '查找子串所有出现位置',
            codeSnippet: '#include <iostream>\n#include <string>\nusing namespace std;\nint main() {\n    string s = "abababa"; string p = "aba";\n    size_t pos = s.find(p);\n    while (pos != string::npos) {\n        // Print pos and find next\n    }\n    return 0;\n}',
            correctAnswer: '#include <iostream>\n#include <string>\nusing namespace std;\nint main() {\n    string s = "abababa"; string p = "aba";\n    size_t pos = s.find(p);\n    while (pos != string::npos) {\n        cout << pos << " ";\n        pos = s.find(p, pos + 1);\n    }\n    return 0;\n}',
        },
        {
            id: 'ch11-hard-code-2',
            type: 'CODE',
            text: '字符串转整数 (stoi)',
            codeSnippet: '#include <iostream>\n#include <string>\nusing namespace std;\nint main() {\n    string s = "123";\n    // Convert to int\n    return 0;\n}',
            correctAnswer: '#include <iostream>\n#include <string>\nusing namespace std;\nint main() {\n    string s = "123";\n    int i = stoi(s);\n    return 0;\n}',
        },
    ],
    '12': [
        // Chapter 12: 二维数组 (Hard)
        {
            id: 'ch12-hard-mcq-1',
            type: 'MCQ',
            text: '动态分配二维数组（NxM）的常见方法？',
            options: ['new int[N][M]', 'new int*[N] 然后循环 new int[M]', 'malloc(N*M)', '无法动态分配'],
            correctAnswer: 'new int*[N] 然后循环 new int[M]',
        },
        {
            id: 'ch12-hard-mcq-2',
            type: 'MCQ',
            text: '二维数组作为参数传递，函数原型可以是？',
            options: ['void f(int a[][])', 'void f(int a[][10])', 'void f(int **a)', 'void f(int *a[])'],
            correctAnswer: 'void f(int a[][10])',
        },
        {
            id: 'ch12-hard-mcq-3',
            type: 'MCQ',
            text: '利用一维数组模拟二维数组，索引 (i, j) 映射为？',
            options: ['i * cols + j', 'i * rows + j', 'j * cols + i', 'i + j'],
            correctAnswer: 'i * cols + j',
        },
        {
            id: 'ch12-hard-mcq-4',
            type: 'MCQ',
            text: 'vector<vector<int>> 的内存布局？',
            options: ['完全连续', '行内连续，行间不一定连续', '完全不连续', '链式'],
            correctAnswer: '行内连续，行间不一定连续',
        },
        {
            id: 'ch12-hard-mcq-5',
            type: 'MCQ',
            text: 'int a[3][4]; sizeof(a) 是？',
            options: ['12', '48 (假设 int 4字节)', '3', '4'],
            correctAnswer: '48 (假设 int 4字节)',
        },
        {
            id: 'ch12-hard-tf-1',
            type: 'TF',
            text: '二维数组名是指向指针的指针 (int**)。',
            correctAnswer: false,
        },
        {
            id: 'ch12-hard-tf-2',
            type: 'TF',
            text: '可以省略二维数组定义时的所有维度。',
            correctAnswer: false,
        },
        {
            id: 'ch12-hard-tf-3',
            type: 'TF',
            text: '多维数组在物理内存上是线性的。',
            correctAnswer: true,
        },
        {
            id: 'ch12-hard-code-1',
            type: 'CODE',
            text: '矩阵转置',
            codeSnippet: '#include <iostream>\nusing namespace std;\nint main() {\n    int a[3][3], b[3][3];\n    // Transpose a to b\n    return 0;\n}',
            correctAnswer: '#include <iostream>\nusing namespace std;\nint main() {\n    int a[3][3], b[3][3];\n    for(int i=0;i<3;i++)\n        for(int j=0;j<3;j++)\n            b[j][i] = a[i][j];\n    return 0;\n}',
        },
        {
            id: 'ch12-hard-code-2',
            type: 'CODE',
            text: '使用 vector 创建二维数组',
            codeSnippet: '#include <iostream>\n#include <vector>\nusing namespace std;\nint main() {\n    // Create 3x4 vector initialized to 0\n    return 0;\n}',
            correctAnswer: '#include <iostream>\n#include <vector>\nusing namespace std;\nint main() {\n    vector<vector<int>> v(3, vector<int>(4, 0));\n    return 0;\n}',
        },
    ],
    '13': [
        // Chapter 13: 函数 (Hard)
        {
            id: 'ch13-hard-mcq-1',
            type: 'MCQ',
            text: '函数参数求值顺序是？',
            options: ['从左到右', '从右到左', '未指定 (Unspecified)', '并行'],
            correctAnswer: '未指定 (Unspecified)',
        },
        {
            id: 'ch13-hard-mcq-2',
            type: 'MCQ',
            text: '返回局部变量的引用是？',
            options: ['合法的', 'Undefined Behavior (悬空引用)', '常见的优化', '编译错误'],
            correctAnswer: 'Undefined Behavior (悬空引用)',
        },
        {
            id: 'ch13-hard-mcq-3',
            type: 'MCQ',
            text: 'Lambda 表达式 [=] 表示？',
            options: ['按引用捕获所有', '按值捕获所有', '不捕获', '捕获 this'],
            correctAnswer: '按值捕获所有',
        },
        {
            id: 'ch13-hard-mcq-4',
            type: 'MCQ',
            text: '尾置返回类型 (Trailing return type) 语法？',
            options: ['auto func() -> int', 'int func() -> auto', 'func() -> int', 'auto -> int func()'],
            correctAnswer: 'auto func() -> int',
        },
        {
            id: 'ch13-hard-mcq-5',
            type: 'MCQ',
            text: 'constexpr 函数是指？',
            options: ['常量函数', '可以在编译时求值的函数', '虚函数', '内联函数'],
            correctAnswer: '可以在编译时求值的函数',
        },
        {
            id: 'ch13-hard-tf-1',
            type: 'TF',
            text: '函数可以返回数组。',
            correctAnswer: false,
        },
        {
            id: 'ch13-hard-tf-2',
            type: 'TF',
            text: 'main 函数可以递归调用。',
            correctAnswer: true,
        },
        {
            id: 'ch13-hard-tf-3',
            type: 'TF',
            text: 'static 函数只能在当前文件中可见。',
            correctAnswer: true,
        },
        {
            id: 'ch13-hard-code-1',
            type: 'CODE',
            text: '编写递归斐波那契函数',
            codeSnippet: '#include <iostream>\nusing namespace std;\nint fib(int n) {\n    // Base cases and recursion\n}\nint main() {\n    cout << fib(5);\n    return 0;\n}',
            correctAnswer: '#include <iostream>\nusing namespace std;\nint fib(int n) {\n    if (n <= 1) return n;\n    return fib(n-1) + fib(n-2);\n}\nint main() {\n    cout << fib(5);\n    return 0;\n}',
        },
        {
            id: 'ch13-hard-code-2',
            type: 'CODE',
            text: '使用函数指针',
            codeSnippet: '#include <iostream>\nusing namespace std;\nvoid func() { cout << "Hi"; }\nint main() {\n    // Declare pointer p to func and call it\n    return 0;\n}',
            correctAnswer: '#include <iostream>\nusing namespace std;\nvoid func() { cout << "Hi"; }\nint main() {\n    void (*p)() = func;\n    p();\n    return 0;\n}',
        },
    ],
    '14': [
        // Chapter 14: 指针 (Hard)
        {
            id: 'ch14-hard-mcq-1',
            type: 'MCQ',
            text: 'int *const p 是？',
            options: ['指向常量的指针', '常量指针 (指针本身不可变)', '指向常量的常量指针', '空指针'],
            correctAnswer: '常量指针 (指针本身不可变)',
        },
        {
            id: 'ch14-hard-mcq-2',
            type: 'MCQ',
            text: '野指针 (Wild Pointer) 是指？',
            options: ['指向 NULL 的指针', '未初始化的指针', '被释放后的指针 (悬空指针)', 'void 指针'],
            correctAnswer: '未初始化的指针',
        },
        {
            id: 'ch14-hard-mcq-3',
            type: 'MCQ',
            text: '智能指针 unique_ptr 的特点？',
            options: ['独占所有权，不可复制', '共享所有权', '弱引用', '自动垃圾回收'],
            correctAnswer: '独占所有权，不可复制',
        },
        {
            id: 'ch14-hard-mcq-4',
            type: 'MCQ',
            text: '指针和引用的主要区别？',
            options: ['指针可以为空，引用不行', '指针可以重指向，引用不行', '指针有内存地址，引用本质是别名', '以上都是'],
            correctAnswer: '以上都是',
        },
        {
            id: 'ch14-hard-mcq-5',
            type: 'MCQ',
            text: '*(p++) 和 (*p)++ 的区别？',
            options: ['无区别', '前者先取值后移指针，后者先取值后值加1', '前者移指针，后者值加1', '编译错误'],
            correctAnswer: '前者先取值后移指针，后者先取值后值加1',
        },
        {
            id: 'ch14-hard-tf-1',
            type: 'TF',
            text: 'delete p 之后，p 自动变为 nullptr。',
            correctAnswer: false,
        },
        {
            id: 'ch14-hard-tf-2',
            type: 'TF',
            text: '两个指针相减的结果是它们之间的字节数。',
            correctAnswer: false,
        },
        {
            id: 'ch14-hard-tf-3',
            type: 'TF',
            text: 'this 指针是一个 const 指针。',
            correctAnswer: true,
        },
        {
            id: 'ch14-hard-code-1',
            type: 'CODE',
            text: '使用 shared_ptr',
            codeSnippet: '#include <iostream>\n#include <memory>\nusing namespace std;\nint main() {\n    // Create a shared_ptr to int 10\n    return 0;\n}',
            correctAnswer: '#include <iostream>\n#include <memory>\nusing namespace std;\nint main() {\n    std::shared_ptr<int> p = std::make_shared<int>(10);\n    return 0;\n}',
        },
        {
            id: 'ch14-hard-code-2',
            type: 'CODE',
            text: '函数指针作为参数',
            codeSnippet: '#include <iostream>\nusing namespace std;\nvoid execute(void (*func)()) {\n    // Call func\n}\nvoid hello() { cout << "Hello"; }\nint main() {\n    execute(hello);\n    return 0;\n}',
            correctAnswer: '#include <iostream>\nusing namespace std;\nvoid execute(void (*func)()) {\n    func();\n}\nvoid hello() { cout << "Hello"; }\nint main() {\n    execute(hello);\n    return 0;\n}',
        },
    ],
    '15': [
        // Chapter 15: 链表 (Hard)
        {
            id: 'ch15-hard-mcq-1',
            type: 'MCQ',
            text: '反转单链表的时间复杂度是？',
            options: ['O(1)', 'O(n)', 'O(n log n)', 'O(n^2)'],
            correctAnswer: 'O(n)',
        },
        {
            id: 'ch15-hard-mcq-2',
            type: 'MCQ',
            text: '检测链表是否有环的算法？',
            options: ['快慢指针 (Floyd)', '二分查找', '冒泡排序', '深度优先搜索'],
            correctAnswer: '快慢指针 (Floyd)',
        },
        {
            id: 'ch15-hard-mcq-3',
            type: 'MCQ',
            text: '在单链表末尾插入节点的时间复杂度（无尾指针）？',
            options: ['O(1)', 'O(n)', 'O(log n)', 'O(n^2)'],
            correctAnswer: 'O(n)',
        },
        {
            id: 'ch15-hard-mcq-4',
            type: 'MCQ',
            text: '删除单链表节点需要知道？',
            options: ['当前节点', '前驱节点', '后继节点', '头节点'],
            correctAnswer: '前驱节点',
        },
        {
            id: 'ch15-hard-mcq-5',
            type: 'MCQ',
            text: 'STL 中的 std::list 是？',
            options: ['单向链表', '双向链表', '动态数组', '队列'],
            correctAnswer: '双向链表',
        },
        {
            id: 'ch15-hard-tf-1',
            type: 'TF',
            text: '循环链表的最后一个节点指向头节点。',
            correctAnswer: true,
        },
        {
            id: 'ch15-hard-tf-2',
            type: 'TF',
            text: '链表适合频繁随机访问的场景。',
            correctAnswer: false,
        },
        {
            id: 'ch15-hard-tf-3',
            type: 'TF',
            text: '哨兵节点 (Dummy Node) 可以简化边界条件处理。',
            correctAnswer: true,
        },
        {
            id: 'ch15-hard-code-1',
            type: 'CODE',
            text: '反转单链表核心逻辑',
            codeSnippet: '#include <iostream>\nusing namespace std;\nstruct Node {\n    int data;\n    Node* next;\n};\nNode* reverse(Node* head) {\n    Node *prev = nullptr, *curr = head, *next = nullptr;\n    while (curr) {\n        // Reverse logic\n    }\n    return prev;\n}\nint main() {\n    return 0;\n}',
            correctAnswer: '#include <iostream>\nusing namespace std;\nstruct Node {\n    int data;\n    Node* next;\n};\nNode* reverse(Node* head) {\n    Node *prev = nullptr, *curr = head, *next = nullptr;\n    while (curr) {\n        next = curr->next;\n        curr->next = prev;\n        prev = curr;\n        curr = next;\n    }\n    return prev;\n}\nint main() {\n    return 0;\n}',
        },
        {
            id: 'ch15-hard-code-2',
            type: 'CODE',
            text: '检测环（快慢指针）',
            codeSnippet: '#include <iostream>\nusing namespace std;\nstruct Node {\n    int data;\n    Node* next;\n};\nbool hasCycle(Node* head) {\n    Node *slow = head, *fast = head;\n    while (fast && fast->next) {\n        // Move pointers and check\n    }\n    return false;\n}\nint main() {\n    return 0;\n}',
            correctAnswer: '#include <iostream>\nusing namespace std;\nstruct Node {\n    int data;\n    Node* next;\n};\nbool hasCycle(Node* head) {\n    Node *slow = head, *fast = head;\n    while (fast && fast->next) {\n        slow = slow->next;\n        fast = fast->next->next;\n        if (slow == fast) return true;\n    }\n    return false;\n}\nint main() {\n    return 0;\n}',
        },
    ],
};
